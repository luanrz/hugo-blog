<!doctype html><html lang=en dir=auto><head><script>const loadScript=(e,t)=>{var n=document.createElement("script");n.onerror=e=>{throw new URIError("The script "+e.target.src+" didn't load correctly.")},t&&(n.onload=t),document.head.insertAdjacentElement("beforeend",n),n.src=e},loadPlantUMLOnNeed=()=>{let e="language-plantuml";document.querySelectorAll("[class^="+e+"]").length>0&&loadScript("https://cdn.jsdelivr.net/gh/jmnote/plantuml-encoder@1.2.4/dist/plantuml-encoder.min.js",()=>{(function(){Array.prototype.forEach.call(document.querySelectorAll("[class^="+e+"]"),function(e){let t=document.createElement("IMG");t.loading="lazy",t.src="http://www.plantuml.com/plantuml/svg/~1"+plantumlEncoder.encode(e.innerText),e.parentNode.insertBefore(t,e),e.style.display="none"})})(),console.log("PlantUML init done")})};window.addEventListener("load",function(){loadPlantUMLOnNeed()})</script><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Hugo快速上手 | luanrz's blog</title><meta name=keywords content="Linux,Golang"><meta name=description content="Hugo是使用Go语言实现的静态博客生成工具，它的构建速度比Hexo更快。
一、安装Hugo 以Linux与Mac为例，Hugo安装指令如下所示：
pacman -S hugo # ArchLinux brew install hugo #MacOS 在命令行输入hugo version，正确显示了版本号，即证明安装成功了。更详细的安装过程可参见hugo官方安装教程
二、初始Hugo化项目 （一）新建站点 hugo new site hugodemo cd hugodemo git init （二）新建文章 hugo new posts/hello.md 新建文章时，会依据archetypes/default.md为模版创建文件，文件将被放在content文件夹下面，hello.md的内容如下所示：
--- title: &#34;Hello&#34; date: 2022-10-17T21:07:47+08:00 draft: true --- （三）增加主题 主题位于themes文件夹下，可以使用Git子模块导入喜欢的主题，以PaperMod主题为例：
git submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod git submodule update --init --recursive # 仅在后续重新拉取hugodemo项目时，才需要执行此命令 （四）启动Hugo hugo server -t PaperMod -D server指令表示启动Hugo服务。
-t(--theme)指定了主题名，后续也可以在配置文件中指定主题。
-D(--buildDrafts)表示编译文章头部的draft标识为true的草稿文章，刚刚创建的hello.md就是一篇草稿文章。
（五）访问站点 在终端执行curl http://localhost:1313，或在浏览器中访问http://localhost:1313，即可看到应用启动成功，刚刚写的第一篇hello文章显示在了首页。
三、配置PaperMod主题 未经配置的PaperMod页面还不太完整，下面将简单介绍PaperMod主题的配置过程。
首先，将根目录的config.toml重命名为config.yml，并将其中的= 换成:。随后，继续编辑config.yml，完整的配置文件如下：
baseURL: &#34;https://blog.luanrz.cn/&#34; languageCode: &#34;zh-cn&#34; title: luanrz's blog paginate: 5 theme: PaperMod # 右上角菜单项 menu: main: - identifier: home name: 首页 url: / weight: 10 - identifier: search name: 搜索 url: /search/ weight: 20 - identifier: archives name: 归档 url: /archives/ weight: 30 - identifier: categories name: 分类 url: /categories/ weight: 40 - identifier: tags name: 标签 url: /tags/ weight: 50 # 与Search搭配使用 outputs: home: - HTML - RSS - JSON # 必填，不加此节点Search无法使用 params: defaultTheme: auto # 主题颜色：auto、dark、light disableSpecial1stPost: true # 在Regular模式下禁用Home-Info区域，该开关在Home-Info模式和Profile模式无意义 hideSummary: true # 隐藏文章列表项的概述信息 hidemeta: true # 隐藏文章列表项的元数据，如：ReadingTime、WordCount等等 ShowReadingTime: true # 显示读完的预计时间（hidemeta为false才有意义） ShowWordCount: true # 显示统计字数（hidemeta为false才有意义） ShowCodeCopyButtons: true # 显示代码中的复制按钮 ShowPostNavLinks: true # 显示文章中上一篇和下一篇的链接 ShowBreadCrumbs: false # 显示面包屑导航 showtoc: false # 显示目录 tocopen: false # 显示的目录默认处于打开状态（showtoc为true才有意义） label: text: &#34;luanrz's blog&#34; # 左上角logo区域的文字，如果不填将以全局的title值为准 # Home-Info homeInfoParams: Title: &#34;luanrz的个人博客&#34; # Home-Info区域的标题 Content: &#34;“心有所向，日服一日，必有精进”&#34; # Home-Info区域的内容 socialIcons: - name: bilibili # B站 url: &#34;https://space."><meta name=author content><link rel=canonical href=https://blog.luanrz.cn/posts/%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/hugo%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/><link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://blog.luanrz.cn/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.luanrz.cn/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.luanrz.cn/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.luanrz.cn/apple-touch-icon.png><link rel=mask-icon href=https://blog.luanrz.cn/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Hugo快速上手"><meta property="og:description" content="Hugo是使用Go语言实现的静态博客生成工具，它的构建速度比Hexo更快。
一、安装Hugo 以Linux与Mac为例，Hugo安装指令如下所示：
pacman -S hugo # ArchLinux brew install hugo #MacOS 在命令行输入hugo version，正确显示了版本号，即证明安装成功了。更详细的安装过程可参见hugo官方安装教程
二、初始Hugo化项目 （一）新建站点 hugo new site hugodemo cd hugodemo git init （二）新建文章 hugo new posts/hello.md 新建文章时，会依据archetypes/default.md为模版创建文件，文件将被放在content文件夹下面，hello.md的内容如下所示：
--- title: &#34;Hello&#34; date: 2022-10-17T21:07:47+08:00 draft: true --- （三）增加主题 主题位于themes文件夹下，可以使用Git子模块导入喜欢的主题，以PaperMod主题为例：
git submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod git submodule update --init --recursive # 仅在后续重新拉取hugodemo项目时，才需要执行此命令 （四）启动Hugo hugo server -t PaperMod -D server指令表示启动Hugo服务。
-t(--theme)指定了主题名，后续也可以在配置文件中指定主题。
-D(--buildDrafts)表示编译文章头部的draft标识为true的草稿文章，刚刚创建的hello.md就是一篇草稿文章。
（五）访问站点 在终端执行curl http://localhost:1313，或在浏览器中访问http://localhost:1313，即可看到应用启动成功，刚刚写的第一篇hello文章显示在了首页。
三、配置PaperMod主题 未经配置的PaperMod页面还不太完整，下面将简单介绍PaperMod主题的配置过程。
首先，将根目录的config.toml重命名为config.yml，并将其中的= 换成:。随后，继续编辑config.yml，完整的配置文件如下：
baseURL: &#34;https://blog.luanrz.cn/&#34; languageCode: &#34;zh-cn&#34; title: luanrz's blog paginate: 5 theme: PaperMod # 右上角菜单项 menu: main: - identifier: home name: 首页 url: / weight: 10 - identifier: search name: 搜索 url: /search/ weight: 20 - identifier: archives name: 归档 url: /archives/ weight: 30 - identifier: categories name: 分类 url: /categories/ weight: 40 - identifier: tags name: 标签 url: /tags/ weight: 50 # 与Search搭配使用 outputs: home: - HTML - RSS - JSON # 必填，不加此节点Search无法使用 params: defaultTheme: auto # 主题颜色：auto、dark、light disableSpecial1stPost: true # 在Regular模式下禁用Home-Info区域，该开关在Home-Info模式和Profile模式无意义 hideSummary: true # 隐藏文章列表项的概述信息 hidemeta: true # 隐藏文章列表项的元数据，如：ReadingTime、WordCount等等 ShowReadingTime: true # 显示读完的预计时间（hidemeta为false才有意义） ShowWordCount: true # 显示统计字数（hidemeta为false才有意义） ShowCodeCopyButtons: true # 显示代码中的复制按钮 ShowPostNavLinks: true # 显示文章中上一篇和下一篇的链接 ShowBreadCrumbs: false # 显示面包屑导航 showtoc: false # 显示目录 tocopen: false # 显示的目录默认处于打开状态（showtoc为true才有意义） label: text: &#34;luanrz's blog&#34; # 左上角logo区域的文字，如果不填将以全局的title值为准 # Home-Info homeInfoParams: Title: &#34;luanrz的个人博客&#34; # Home-Info区域的标题 Content: &#34;“心有所向，日服一日，必有精进”&#34; # Home-Info区域的内容 socialIcons: - name: bilibili # B站 url: &#34;https://space."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.luanrz.cn/posts/%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/hugo%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-10-17T20:50:15+08:00"><meta property="article:modified_time" content="2022-10-17T20:50:15+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Hugo快速上手"><meta name=twitter:description content="Hugo是使用Go语言实现的静态博客生成工具，它的构建速度比Hexo更快。
一、安装Hugo 以Linux与Mac为例，Hugo安装指令如下所示：
pacman -S hugo # ArchLinux brew install hugo #MacOS 在命令行输入hugo version，正确显示了版本号，即证明安装成功了。更详细的安装过程可参见hugo官方安装教程
二、初始Hugo化项目 （一）新建站点 hugo new site hugodemo cd hugodemo git init （二）新建文章 hugo new posts/hello.md 新建文章时，会依据archetypes/default.md为模版创建文件，文件将被放在content文件夹下面，hello.md的内容如下所示：
--- title: &#34;Hello&#34; date: 2022-10-17T21:07:47+08:00 draft: true --- （三）增加主题 主题位于themes文件夹下，可以使用Git子模块导入喜欢的主题，以PaperMod主题为例：
git submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod git submodule update --init --recursive # 仅在后续重新拉取hugodemo项目时，才需要执行此命令 （四）启动Hugo hugo server -t PaperMod -D server指令表示启动Hugo服务。
-t(--theme)指定了主题名，后续也可以在配置文件中指定主题。
-D(--buildDrafts)表示编译文章头部的draft标识为true的草稿文章，刚刚创建的hello.md就是一篇草稿文章。
（五）访问站点 在终端执行curl http://localhost:1313，或在浏览器中访问http://localhost:1313，即可看到应用启动成功，刚刚写的第一篇hello文章显示在了首页。
三、配置PaperMod主题 未经配置的PaperMod页面还不太完整，下面将简单介绍PaperMod主题的配置过程。
首先，将根目录的config.toml重命名为config.yml，并将其中的= 换成:。随后，继续编辑config.yml，完整的配置文件如下：
baseURL: &#34;https://blog.luanrz.cn/&#34; languageCode: &#34;zh-cn&#34; title: luanrz's blog paginate: 5 theme: PaperMod # 右上角菜单项 menu: main: - identifier: home name: 首页 url: / weight: 10 - identifier: search name: 搜索 url: /search/ weight: 20 - identifier: archives name: 归档 url: /archives/ weight: 30 - identifier: categories name: 分类 url: /categories/ weight: 40 - identifier: tags name: 标签 url: /tags/ weight: 50 # 与Search搭配使用 outputs: home: - HTML - RSS - JSON # 必填，不加此节点Search无法使用 params: defaultTheme: auto # 主题颜色：auto、dark、light disableSpecial1stPost: true # 在Regular模式下禁用Home-Info区域，该开关在Home-Info模式和Profile模式无意义 hideSummary: true # 隐藏文章列表项的概述信息 hidemeta: true # 隐藏文章列表项的元数据，如：ReadingTime、WordCount等等 ShowReadingTime: true # 显示读完的预计时间（hidemeta为false才有意义） ShowWordCount: true # 显示统计字数（hidemeta为false才有意义） ShowCodeCopyButtons: true # 显示代码中的复制按钮 ShowPostNavLinks: true # 显示文章中上一篇和下一篇的链接 ShowBreadCrumbs: false # 显示面包屑导航 showtoc: false # 显示目录 tocopen: false # 显示的目录默认处于打开状态（showtoc为true才有意义） label: text: &#34;luanrz's blog&#34; # 左上角logo区域的文字，如果不填将以全局的title值为准 # Home-Info homeInfoParams: Title: &#34;luanrz的个人博客&#34; # Home-Info区域的标题 Content: &#34;“心有所向，日服一日，必有精进”&#34; # Home-Info区域的内容 socialIcons: - name: bilibili # B站 url: &#34;https://space."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.luanrz.cn/posts/"},{"@type":"ListItem","position":2,"name":"Hugo快速上手","item":"https://blog.luanrz.cn/posts/%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/hugo%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Hugo快速上手","name":"Hugo快速上手","description":"Hugo是使用Go语言实现的静态博客生成工具，它的构建速度比Hexo更快。\n一、安装Hugo 以Linux与Mac为例，Hugo安装指令如下所示：\npacman -S hugo # ArchLinux brew install hugo #MacOS 在命令行输入hugo version，正确显示了版本号，即证明安装成功了。更详细的安装过程可参见hugo官方安装教程\n二、初始Hugo化项目 （一）新建站点 hugo new site hugodemo cd hugodemo git init （二）新建文章 hugo new posts/hello.md 新建文章时，会依据archetypes/default.md为模版创建文件，文件将被放在content文件夹下面，hello.md的内容如下所示：\n--- title: \u0026#34;Hello\u0026#34; date: 2022-10-17T21:07:47+08:00 draft: true --- （三）增加主题 主题位于themes文件夹下，可以使用Git子模块导入喜欢的主题，以PaperMod主题为例：\ngit submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod git submodule update --init --recursive # 仅在后续重新拉取hugodemo项目时，才需要执行此命令 （四）启动Hugo hugo server -t PaperMod -D server指令表示启动Hugo服务。\n-t(--theme)指定了主题名，后续也可以在配置文件中指定主题。\n-D(--buildDrafts)表示编译文章头部的draft标识为true的草稿文章，刚刚创建的hello.md就是一篇草稿文章。\n（五）访问站点 在终端执行curl http://localhost:1313，或在浏览器中访问http://localhost:1313，即可看到应用启动成功，刚刚写的第一篇hello文章显示在了首页。\n三、配置PaperMod主题 未经配置的PaperMod页面还不太完整，下面将简单介绍PaperMod主题的配置过程。\n首先，将根目录的config.toml重命名为config.yml，并将其中的= 换成:。随后，继续编辑config.yml，完整的配置文件如下：\nbaseURL: \u0026#34;https://blog.luanrz.cn/\u0026#34; languageCode: \u0026#34;zh-cn\u0026#34; title: luanrz\u0026#39;s blog paginate: 5 theme: PaperMod # 右上角菜单项 menu: main: - identifier: home name: 首页 url: / weight: 10 - identifier: search name: 搜索 url: /search/ weight: 20 - identifier: archives name: 归档 url: /archives/ weight: 30 - identifier: categories name: 分类 url: /categories/ weight: 40 - identifier: tags name: 标签 url: /tags/ weight: 50 # 与Search搭配使用 outputs: home: - HTML - RSS - JSON # 必填，不加此节点Search无法使用 params: defaultTheme: auto # 主题颜色：auto、dark、light disableSpecial1stPost: true # 在Regular模式下禁用Home-Info区域，该开关在Home-Info模式和Profile模式无意义 hideSummary: true # 隐藏文章列表项的概述信息 hidemeta: true # 隐藏文章列表项的元数据，如：ReadingTime、WordCount等等 ShowReadingTime: true # 显示读完的预计时间（hidemeta为false才有意义） ShowWordCount: true # 显示统计字数（hidemeta为false才有意义） ShowCodeCopyButtons: true # 显示代码中的复制按钮 ShowPostNavLinks: true # 显示文章中上一篇和下一篇的链接 ShowBreadCrumbs: false # 显示面包屑导航 showtoc: false # 显示目录 tocopen: false # 显示的目录默认处于打开状态（showtoc为true才有意义） label: text: \u0026#34;luanrz\u0026#39;s blog\u0026#34; # 左上角logo区域的文字，如果不填将以全局的title值为准 # Home-Info homeInfoParams: Title: \u0026#34;luanrz的个人博客\u0026#34; # Home-Info区域的标题 Content: \u0026#34;“心有所向，日服一日，必有精进”\u0026#34; # Home-Info区域的内容 socialIcons: - name: bilibili # B站 url: \u0026#34;https://space.","keywords":["Linux","Golang"],"articleBody":"Hugo是使用Go语言实现的静态博客生成工具，它的构建速度比Hexo更快。\n一、安装Hugo 以Linux与Mac为例，Hugo安装指令如下所示：\npacman -S hugo # ArchLinux brew install hugo #MacOS 在命令行输入hugo version，正确显示了版本号，即证明安装成功了。更详细的安装过程可参见hugo官方安装教程\n二、初始Hugo化项目 （一）新建站点 hugo new site hugodemo cd hugodemo git init （二）新建文章 hugo new posts/hello.md 新建文章时，会依据archetypes/default.md为模版创建文件，文件将被放在content文件夹下面，hello.md的内容如下所示：\n--- title: \"Hello\" date: 2022-10-17T21:07:47+08:00 draft: true --- （三）增加主题 主题位于themes文件夹下，可以使用Git子模块导入喜欢的主题，以PaperMod主题为例：\ngit submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod git submodule update --init --recursive # 仅在后续重新拉取hugodemo项目时，才需要执行此命令 （四）启动Hugo hugo server -t PaperMod -D server指令表示启动Hugo服务。\n-t(--theme)指定了主题名，后续也可以在配置文件中指定主题。\n-D(--buildDrafts)表示编译文章头部的draft标识为true的草稿文章，刚刚创建的hello.md就是一篇草稿文章。\n（五）访问站点 在终端执行curl http://localhost:1313，或在浏览器中访问http://localhost:1313，即可看到应用启动成功，刚刚写的第一篇hello文章显示在了首页。\n三、配置PaperMod主题 未经配置的PaperMod页面还不太完整，下面将简单介绍PaperMod主题的配置过程。\n首先，将根目录的config.toml重命名为config.yml，并将其中的= 换成:。随后，继续编辑config.yml，完整的配置文件如下：\nbaseURL: \"https://blog.luanrz.cn/\" languageCode: \"zh-cn\" title: luanrz's blog paginate: 5 theme: PaperMod # 右上角菜单项 menu: main: - identifier: home name: 首页 url: / weight: 10 - identifier: search name: 搜索 url: /search/ weight: 20 - identifier: archives name: 归档 url: /archives/ weight: 30 - identifier: categories name: 分类 url: /categories/ weight: 40 - identifier: tags name: 标签 url: /tags/ weight: 50 # 与Search搭配使用 outputs: home: - HTML - RSS - JSON # 必填，不加此节点Search无法使用 params: defaultTheme: auto # 主题颜色：auto、dark、light disableSpecial1stPost: true # 在Regular模式下禁用Home-Info区域，该开关在Home-Info模式和Profile模式无意义 hideSummary: true # 隐藏文章列表项的概述信息 hidemeta: true # 隐藏文章列表项的元数据，如：ReadingTime、WordCount等等 ShowReadingTime: true # 显示读完的预计时间（hidemeta为false才有意义） ShowWordCount: true # 显示统计字数（hidemeta为false才有意义） ShowCodeCopyButtons: true # 显示代码中的复制按钮 ShowPostNavLinks: true # 显示文章中上一篇和下一篇的链接 ShowBreadCrumbs: false # 显示面包屑导航 showtoc: false # 显示目录 tocopen: false # 显示的目录默认处于打开状态（showtoc为true才有意义） label: text: \"luanrz's blog\" # 左上角logo区域的文字，如果不填将以全局的title值为准 # Home-Info homeInfoParams: Title: \"luanrz的个人博客\" # Home-Info区域的标题 Content: \"“心有所向，日服一日，必有精进”\" # Home-Info区域的内容 socialIcons: - name: bilibili # B站 url: \"https://space.bilibili.com/31949997\" - name: github # Github url: \"https://github.com/luanrz\" 上述配置中有两个菜单项需要新建对应的文件，如下所示：\n新建archives.md以支持归档功能\nvim content/archive.md --- title: \"Archives\" layout: \"archives\" url: \"/archives/\" --- 新建search.md以支持搜索功能\nvim content/search.md --- title: \"Search\" layout: \"search\" placeholder: \"输入关键字搜索文章\" --- 最后，再次重启项目，可以看到首页已经焕然一新。\n四、Hexo的迁移建议 此章节适用于希望将老的Hexo的博客全部迁移到新的Hugo的场景。\n（一）文章结构微调 首先，Hexo文章头部的描述信息大多数可以直接平移，无需额外修改。但Hugo的description不支持markdown及html语法，建议将对应的description信息挪到文章正文。\n同时，Hugo不支持Hexo的Tabs标签语法，可以删掉对应的Tabs标签或使用hugo对应Shortcodes语法。\n（二）内部超链接 Hugo中Markdown对应的标题生成超链接锚点时，会执行下述操作：将大写字母替换成小写字母、将、与（）等符号去掉。\n以## （一）PaperMod为例，它的超链接锚点会变成一papermod，如果要在文章内部引用它，可以使用[The PaperMod](#一papermod)\n（三）支持PlantUML PlantUML是一种文本画图的工具，Hexo的Next主题原生支持PlantUML。Hugo现在还没有原生支持PlantUML，根据其github的讨论记录，可能后续会支持。\n现在的解决方案是自定义js，将PlantUML文本传输到http://plantuml.com/在线生成图片并回写到页面。可参考下述自定义脚本：\n\u003cscript\u003e const loadScript = (url, onloadFunction) =\u003e { var newScript = document.createElement(\"script\"); newScript.onerror = (oError) =\u003e { throw new URIError(\"The script \" + oError.target.src + \" didn't load correctly.\"); }; if (onloadFunction) { newScript.onload = onloadFunction; } document.head.insertAdjacentElement('beforeend', newScript); newScript.src = url; } const loadPlantUMLOnNeed = () =\u003e { let plantumlPrefix = \"language-plantuml\"; if (document.querySelectorAll(\"[class^=\" + plantumlPrefix + \"]\").length \u003e 0) { loadScript('https://cdn.jsdelivr.net/gh/jmnote/plantuml-encoder@1.2.4/dist/plantuml-encoder.min.js', () =\u003e { (function () { Array.prototype.forEach.call(document.querySelectorAll(\"[class^=\" + plantumlPrefix + \"]\"), function (code) { let image = document.createElement(\"IMG\"); image.loading = 'lazy'; // Lazy loading image.src = 'http://www.plantuml.com/plantuml/svg/~1' + plantumlEncoder.encode(code.innerText); code.parentNode.insertBefore(image, code); code.style.display = 'none'; }); })(); console.log(\"PlantUML init done\"); }) } } window.addEventListener('load', function (event) { // load PlantUML loadPlantUMLOnNeed(); }) \u003c/script\u003e 参考文档\nHugo官方入门手册 PaperMod安装教程 给Hugo博客添加PlantUML支持 在Hugo博客上使用PlantUML ","wordCount":"383","inLanguage":"en","datePublished":"2022-10-17T20:50:15+08:00","dateModified":"2022-10-17T20:50:15+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.luanrz.cn/posts/%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/hugo%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/"},"publisher":{"@type":"Organization","name":"luanrz's blog","logo":{"@type":"ImageObject","url":"https://blog.luanrz.cn/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.luanrz.cn/ accesskey=h title="luanrz's blog (Alt + H)">luanrz's blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.luanrz.cn/ title=首页><span>首页</span></a></li><li><a href=https://blog.luanrz.cn/search/ title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li><li><a href=https://blog.luanrz.cn/archives/ title=归档><span>归档</span></a></li><li><a href=https://blog.luanrz.cn/categories/ title=分类><span>分类</span></a></li><li><a href=https://blog.luanrz.cn/tags/ title=标签><span>标签</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Hugo快速上手</h1></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e4%b8%80%e5%ae%89%e8%a3%85hugo aria-label=一、安装Hugo>一、安装Hugo</a></li><li><a href=#%e4%ba%8c%e5%88%9d%e5%a7%8bhugo%e5%8c%96%e9%a1%b9%e7%9b%ae aria-label=二、初始Hugo化项目>二、初始Hugo化项目</a><ul><li><a href=#%e4%b8%80%e6%96%b0%e5%bb%ba%e7%ab%99%e7%82%b9 aria-label=（一）新建站点>（一）新建站点</a></li><li><a href=#%e4%ba%8c%e6%96%b0%e5%bb%ba%e6%96%87%e7%ab%a0 aria-label=（二）新建文章>（二）新建文章</a></li><li><a href=#%e4%b8%89%e5%a2%9e%e5%8a%a0%e4%b8%bb%e9%a2%98 aria-label=（三）增加主题>（三）增加主题</a></li><li><a href=#%e5%9b%9b%e5%90%af%e5%8a%a8hugo aria-label=（四）启动Hugo>（四）启动Hugo</a></li><li><a href=#%e4%ba%94%e8%ae%bf%e9%97%ae%e7%ab%99%e7%82%b9 aria-label=（五）访问站点>（五）访问站点</a></li></ul></li><li><a href=#%e4%b8%89%e9%85%8d%e7%bd%aepapermod%e4%b8%bb%e9%a2%98 aria-label=三、配置PaperMod主题>三、配置PaperMod主题</a></li><li><a href=#%e5%9b%9bhexo%e7%9a%84%e8%bf%81%e7%a7%bb%e5%bb%ba%e8%ae%ae aria-label=四、Hexo的迁移建议>四、Hexo的迁移建议</a><ul><li><a href=#%e4%b8%80%e6%96%87%e7%ab%a0%e7%bb%93%e6%9e%84%e5%be%ae%e8%b0%83 aria-label=（一）文章结构微调>（一）文章结构微调</a></li><li><a href=#%e4%ba%8c%e5%86%85%e9%83%a8%e8%b6%85%e9%93%be%e6%8e%a5 aria-label=（二）内部超链接>（二）内部超链接</a></li><li><a href=#%e4%b8%89%e6%94%af%e6%8c%81plantuml aria-label=（三）支持PlantUML>（三）支持PlantUML</a></li></ul></li></ul></div></details></div><div class=post-content><p>Hugo是使用Go语言实现的静态博客生成工具，它的构建速度比Hexo更快。</p><h2 id=一安装hugo>一、安装Hugo<a hidden class=anchor aria-hidden=true href=#一安装hugo>#</a></h2><p>以Linux与Mac为例，Hugo安装指令如下所示：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>pacman -S hugo <span style=color:#75715e># ArchLinux</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>brew install hugo <span style=color:#75715e>#MacOS</span>
</span></span></code></pre></div><p>在命令行输入<code>hugo version</code>，正确显示了版本号，即证明安装成功了。更详细的安装过程可参见<a href=https://gohugo.io/getting-started/installing/>hugo官方安装教程</a></p><h2 id=二初始hugo化项目>二、初始Hugo化项目<a hidden class=anchor aria-hidden=true href=#二初始hugo化项目>#</a></h2><h3 id=一新建站点>（一）新建站点<a hidden class=anchor aria-hidden=true href=#一新建站点>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>hugo new site hugodemo
</span></span><span style=display:flex><span>cd hugodemo 
</span></span><span style=display:flex><span>git init
</span></span></code></pre></div><h3 id=二新建文章>（二）新建文章<a hidden class=anchor aria-hidden=true href=#二新建文章>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>hugo new posts/hello.md
</span></span></code></pre></div><p>新建文章时，会依据<code>archetypes/default.md</code>为模版创建文件，文件将被放在<code>content</code>文件夹下面，<code>hello.md</code>的内容如下所示：</p><pre tabindex=0><code>---
title: &#34;Hello&#34;
date: 2022-10-17T21:07:47+08:00
draft: true
---
</code></pre><h3 id=三增加主题>（三）增加主题<a hidden class=anchor aria-hidden=true href=#三增加主题>#</a></h3><p>主题位于<code>themes</code>文件夹下，可以使用Git子模块导入喜欢的主题，以<code>PaperMod</code>主题为例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git submodule add --depth<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span> https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod
</span></span><span style=display:flex><span>git submodule update --init --recursive <span style=color:#75715e># 仅在后续重新拉取hugodemo项目时，才需要执行此命令</span>
</span></span></code></pre></div><h3 id=四启动hugo>（四）启动Hugo<a hidden class=anchor aria-hidden=true href=#四启动hugo>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>hugo server -t PaperMod -D
</span></span></code></pre></div><p><code>server</code>指令表示启动Hugo服务。</p><p><code>-t</code>(<code>--theme</code>)指定了主题名，后续也可以在配置文件中指定主题。</p><p><code>-D</code>(<code>--buildDrafts</code>)表示编译文章头部的<code>draft</code>标识为<code>true</code>的草稿文章，刚刚创建的hello.md就是一篇草稿文章。</p><h3 id=五访问站点>（五）访问站点<a hidden class=anchor aria-hidden=true href=#五访问站点>#</a></h3><p>在终端执行<code>curl http://localhost:1313</code>，或在浏览器中访问<code>http://localhost:1313</code>，即可看到应用启动成功，刚刚写的第一篇hello文章显示在了首页。</p><h2 id=三配置papermod主题>三、配置PaperMod主题<a hidden class=anchor aria-hidden=true href=#三配置papermod主题>#</a></h2><p>未经配置的PaperMod页面还不太完整，下面将简单介绍PaperMod主题的配置过程。</p><p>首先，将根目录的<code>config.toml</code>重命名为<code>config.yml</code>，并将其中的<code>=</code> 换成<code>:</code>。随后，继续编辑<code>config.yml</code>，完整的配置文件如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#f92672>baseURL</span>: <span style=color:#e6db74>&#34;https://blog.luanrz.cn/&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>languageCode</span>: <span style=color:#e6db74>&#34;zh-cn&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>title</span>: <span style=color:#ae81ff>luanrz&#39;s blog</span>
</span></span><span style=display:flex><span><span style=color:#f92672>paginate</span>: <span style=color:#ae81ff>5</span>
</span></span><span style=display:flex><span><span style=color:#f92672>theme</span>: <span style=color:#ae81ff>PaperMod</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 右上角菜单项</span>
</span></span><span style=display:flex><span><span style=color:#f92672>menu</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>main</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>identifier</span>: <span style=color:#ae81ff>home</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>name</span>: <span style=color:#ae81ff>首页</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>url</span>: <span style=color:#ae81ff>/</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>weight</span>: <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>identifier</span>: <span style=color:#ae81ff>search</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>name</span>: <span style=color:#ae81ff>搜索</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>url</span>: <span style=color:#ae81ff>/search/ </span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>weight</span>: <span style=color:#ae81ff>20</span>      
</span></span><span style=display:flex><span>    - <span style=color:#f92672>identifier</span>: <span style=color:#ae81ff>archives</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>name</span>: <span style=color:#ae81ff>归档</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>url</span>: <span style=color:#ae81ff>/archives/</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>weight</span>: <span style=color:#ae81ff>30</span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>identifier</span>: <span style=color:#ae81ff>categories</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>name</span>: <span style=color:#ae81ff>分类</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>url</span>: <span style=color:#ae81ff>/categories/</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>weight</span>: <span style=color:#ae81ff>40</span>      
</span></span><span style=display:flex><span>    - <span style=color:#f92672>identifier</span>: <span style=color:#ae81ff>tags</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>name</span>: <span style=color:#ae81ff>标签</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>url</span>: <span style=color:#ae81ff>/tags/</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>weight</span>: <span style=color:#ae81ff>50</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 与Search搭配使用</span>
</span></span><span style=display:flex><span><span style=color:#f92672>outputs</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>home</span>:
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>HTML</span>
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>RSS</span>
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>JSON</span> <span style=color:#75715e># 必填，不加此节点Search无法使用</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>params</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>defaultTheme</span>: <span style=color:#ae81ff>auto</span> <span style=color:#75715e># 主题颜色：auto、dark、light</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>disableSpecial1stPost</span>: <span style=color:#66d9ef>true</span> <span style=color:#75715e># 在Regular模式下禁用Home-Info区域，该开关在Home-Info模式和Profile模式无意义</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>hideSummary</span>: <span style=color:#66d9ef>true</span> <span style=color:#75715e># 隐藏文章列表项的概述信息</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>hidemeta</span>: <span style=color:#66d9ef>true</span> <span style=color:#75715e># 隐藏文章列表项的元数据，如：ReadingTime、WordCount等等</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>ShowReadingTime</span>: <span style=color:#66d9ef>true</span> <span style=color:#75715e># 显示读完的预计时间（hidemeta为false才有意义）</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>ShowWordCount</span>: <span style=color:#66d9ef>true</span> <span style=color:#75715e># 显示统计字数（hidemeta为false才有意义）</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>ShowCodeCopyButtons</span>: <span style=color:#66d9ef>true</span> <span style=color:#75715e># 显示代码中的复制按钮</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>ShowPostNavLinks</span>: <span style=color:#66d9ef>true</span> <span style=color:#75715e># 显示文章中上一篇和下一篇的链接</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>ShowBreadCrumbs</span>: <span style=color:#66d9ef>false</span> <span style=color:#75715e># 显示面包屑导航</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>showtoc</span>: <span style=color:#66d9ef>false</span> <span style=color:#75715e># 显示目录</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>tocopen</span>: <span style=color:#66d9ef>false</span> <span style=color:#75715e># 显示的目录默认处于打开状态（showtoc为true才有意义）</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>label</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>text</span>: <span style=color:#e6db74>&#34;luanrz&#39;s blog&#34;</span> <span style=color:#75715e># 左上角logo区域的文字，如果不填将以全局的title值为准</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Home-Info</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>homeInfoParams</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>Title</span>: <span style=color:#e6db74>&#34;luanrz的个人博客&#34;</span> <span style=color:#75715e># Home-Info区域的标题</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>Content</span>: <span style=color:#e6db74>&#34;“心有所向，日服一日，必有精进”&#34;</span> <span style=color:#75715e># Home-Info区域的内容</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>socialIcons</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>bilibili</span> <span style=color:#75715e># B站</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>url</span>: <span style=color:#e6db74>&#34;https://space.bilibili.com/31949997&#34;</span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>github</span> <span style=color:#75715e># Github</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>url</span>: <span style=color:#e6db74>&#34;https://github.com/luanrz&#34;</span>
</span></span></code></pre></div><p>上述配置中有两个菜单项需要新建对应的文件，如下所示：</p><p>新建archives.md以支持归档功能</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>vim content/archive.md
</span></span></code></pre></div><pre tabindex=0><code>---
title: &#34;Archives&#34;
layout: &#34;archives&#34;
url: &#34;/archives/&#34;
---
</code></pre><p>新建search.md以支持搜索功能</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>vim content/search.md
</span></span></code></pre></div><pre tabindex=0><code>---
title: &#34;Search&#34;
layout: &#34;search&#34;
placeholder: &#34;输入关键字搜索文章&#34;
---
</code></pre><p>最后，再次重启项目，可以看到首页已经焕然一新。</p><h2 id=四hexo的迁移建议>四、Hexo的迁移建议<a hidden class=anchor aria-hidden=true href=#四hexo的迁移建议>#</a></h2><p>此章节适用于希望将老的Hexo的博客全部迁移到新的Hugo的场景。</p><h3 id=一文章结构微调>（一）文章结构微调<a hidden class=anchor aria-hidden=true href=#一文章结构微调>#</a></h3><p>首先，Hexo文章头部的描述信息大多数可以直接平移，无需额外修改。但Hugo的description不支持markdown及html语法，建议将对应的description信息挪到文章正文。</p><p>同时，Hugo不支持Hexo的Tabs标签语法，可以删掉对应的Tabs标签或使用hugo对应Shortcodes语法。</p><h3 id=二内部超链接>（二）内部超链接<a hidden class=anchor aria-hidden=true href=#二内部超链接>#</a></h3><p>Hugo中Markdown对应的标题生成超链接锚点时，会执行下述操作：将大写字母替换成小写字母、将<code>、</code>与<code>（）</code>等符号去掉。</p><p>以<code>## （一）PaperMod</code>为例，它的超链接锚点会变成<code>一papermod</code>，如果要在文章内部引用它，可以使用<code>[The PaperMod](#一papermod)</code></p><h3 id=三支持plantuml>（三）支持PlantUML<a hidden class=anchor aria-hidden=true href=#三支持plantuml>#</a></h3><p>PlantUML是一种文本画图的工具，Hexo的Next主题原生支持PlantUML。Hugo现在还没有原生支持PlantUML，根据其github的讨论记录，可能后续会支持。</p><p>现在的解决方案是自定义js，将PlantUML文本传输到<code>http://plantuml.com/</code>在线生成图片并回写到页面。可参考下述自定义脚本：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>&lt;!--</span> <span style=color:#a6e22e>引入自定义脚本</span><span style=color:#960050;background-color:#1e0010>，</span><span style=color:#a6e22e>渲染plantuml</span><span style=color:#960050;background-color:#1e0010>（</span><span style=color:#a6e22e>此种方式引入脚本不太优雅</span><span style=color:#960050;background-color:#1e0010>，</span><span style=color:#a6e22e>后续寻找更合适的方式</span><span style=color:#960050;background-color:#1e0010>）</span> <span style=color:#f92672>--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--</span> <span style=color:#a6e22e>参见</span> <span style=color:#a6e22e>https</span><span style=color:#f92672>:</span><span style=color:#75715e>//ttys3.dev/post/add-plantuml-support-to-hugo/ 与 https://mogeko.me/posts/zh-cn/083/ --&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>script</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>loadScript</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>url</span>, <span style=color:#a6e22e>onloadFunction</span>) =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>newScript</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>createElement</span>(<span style=color:#e6db74>&#34;script&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>newScript</span>.<span style=color:#a6e22e>onerror</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>oError</span>) =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>URIError</span>(<span style=color:#e6db74>&#34;The script &#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>oError</span>.<span style=color:#a6e22e>target</span>.<span style=color:#a6e22e>src</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; didn&#39;t load correctly.&#34;</span>);
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>onloadFunction</span>) { <span style=color:#a6e22e>newScript</span>.<span style=color:#a6e22e>onload</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>onloadFunction</span>; }
</span></span><span style=display:flex><span>    document.<span style=color:#a6e22e>head</span>.<span style=color:#a6e22e>insertAdjacentElement</span>(<span style=color:#e6db74>&#39;beforeend&#39;</span>, <span style=color:#a6e22e>newScript</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>newScript</span>.<span style=color:#a6e22e>src</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>url</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>loadPlantUMLOnNeed</span> <span style=color:#f92672>=</span> () =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>plantumlPrefix</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;language-plantuml&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (document.<span style=color:#a6e22e>querySelectorAll</span>(<span style=color:#e6db74>&#34;[class^=&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>plantumlPrefix</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;]&#34;</span>).<span style=color:#a6e22e>length</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>loadScript</span>(<span style=color:#e6db74>&#39;https://cdn.jsdelivr.net/gh/jmnote/plantuml-encoder@1.2.4/dist/plantuml-encoder.min.js&#39;</span>, () =&gt; {
</span></span><span style=display:flex><span>            (<span style=color:#66d9ef>function</span> () {
</span></span><span style=display:flex><span>                Array.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>forEach</span>.<span style=color:#a6e22e>call</span>(document.<span style=color:#a6e22e>querySelectorAll</span>(<span style=color:#e6db74>&#34;[class^=&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>plantumlPrefix</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;]&#34;</span>), <span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>code</span>) {
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>image</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>createElement</span>(<span style=color:#e6db74>&#34;IMG&#34;</span>);
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>loading</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;lazy&#39;</span>; <span style=color:#75715e>// Lazy loading
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                    <span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>src</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;http://www.plantuml.com/plantuml/svg/~1&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>plantumlEncoder</span>.<span style=color:#a6e22e>encode</span>(<span style=color:#a6e22e>code</span>.<span style=color:#a6e22e>innerText</span>);
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>code</span>.<span style=color:#a6e22e>parentNode</span>.<span style=color:#a6e22e>insertBefore</span>(<span style=color:#a6e22e>image</span>, <span style=color:#a6e22e>code</span>);
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>code</span>.<span style=color:#a6e22e>style</span>.<span style=color:#a6e22e>display</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;none&#39;</span>;
</span></span><span style=display:flex><span>                });
</span></span><span style=display:flex><span>            })();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;PlantUML init done&#34;</span>);
</span></span><span style=display:flex><span>        })
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>window.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#39;load&#39;</span>, <span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>event</span>) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// load PlantUML
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>loadPlantUMLOnNeed</span>();
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/script&gt;</span>
</span></span></code></pre></div><blockquote><p>参考文档</p></blockquote><ol><li><a href=https://gohugo.io/getting-started/quick-start/>Hugo官方入门手册</a></li><li><a href=https://adityatelange.github.io/hugo-PaperMod/posts/papermod/papermod-installation/>PaperMod安装教程</a></li><li><a href=https://ttys3.dev/post/add-plantuml-support-to-hugo/>给Hugo博客添加PlantUML支持</a></li><li><a href=https://mogeko.me/posts/zh-cn/083/>在Hugo博客上使用PlantUML</a></li></ol></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.luanrz.cn/tags/linux/>Linux</a></li><li><a href=https://blog.luanrz.cn/tags/golang/>Golang</a></li></ul><nav class=paginav><a class=prev href=https://blog.luanrz.cn/posts/%E9%83%A8%E7%BD%B2%E8%BF%90%E7%BB%B4/java%E5%BA%94%E7%94%A8%E9%83%A8%E7%BD%B2k8s%E5%85%A8%E6%B5%81%E7%A8%8Bdocker%E9%95%9C%E5%83%8F%E5%88%B6%E4%BD%9Charbor%E9%95%9C%E5%83%8F%E4%B8%8A%E4%BC%A0%E4%B8%8Ehelm%E5%BA%94%E7%94%A8%E9%83%A8%E7%BD%B2/><span class=title>« Prev</span><br><span>Java应用部署K8S全流程：Docker镜像制作、Harbor镜像存储与Helm应用部署</span></a>
<a class=next href=https://blog.luanrz.cn/posts/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/hashmap%E5%8E%9F%E7%90%86%E6%B5%85%E6%9E%90/><span class=title>Next »</span><br><span>HashMap原理浅析</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://blog.luanrz.cn/>luanrz's blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>