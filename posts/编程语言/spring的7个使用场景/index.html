<!doctype html><html lang=en dir=auto><head><script>const loadScript=(e,t)=>{var n=document.createElement("script");n.onerror=e=>{throw new URIError("The script "+e.target.src+" didn't load correctly.")},t&&(n.onload=t),document.head.insertAdjacentElement("beforeend",n),n.src=e},loadPlantUMLOnNeed=()=>{let e="language-plantuml";document.querySelectorAll("[class^="+e+"]").length>0&&loadScript("https://cdn.jsdelivr.net/gh/jmnote/plantuml-encoder@1.2.4/dist/plantuml-encoder.min.js",()=>{(function(){Array.prototype.forEach.call(document.querySelectorAll("[class^="+e+"]"),function(e){let t=document.createElement("IMG");t.loading="lazy",t.src="http://www.plantuml.com/plantuml/svg/~1"+plantumlEncoder.encode(e.innerText),e.parentNode.insertBefore(t,e),e.style.display="none"})})(),console.log("PlantUML init done")})};window.addEventListener("load",function(){loadPlantUMLOnNeed()})</script><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Spring的7个使用场景 | luanrz's blog</title><meta name=keywords content="Java,Spring"><meta name=description content="Spring官网中描述了Spring能做的7件事，如下所示：
@startmindmap
* Spring
	* Microservices（微服务）
	* Reactive（响应式）
	* Cloud（云）
	* Web apps（网页应用）
	* Serverless（无服务器）
	* Event Driven（事件驱动）
	* Batch（批处理）
@endmindmap
下面将简单介绍各场景的概念与其关联的项目。"><meta name=author content><link rel=canonical href=https://blog.luanrz.cn/posts/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/spring%E7%9A%847%E4%B8%AA%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/><link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://blog.luanrz.cn/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.luanrz.cn/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.luanrz.cn/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.luanrz.cn/apple-touch-icon.png><link rel=mask-icon href=https://blog.luanrz.cn/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Spring的7个使用场景"><meta property="og:description" content="Spring官网中描述了Spring能做的7件事，如下所示：
@startmindmap
* Spring
	* Microservices（微服务）
	* Reactive（响应式）
	* Cloud（云）
	* Web apps（网页应用）
	* Serverless（无服务器）
	* Event Driven（事件驱动）
	* Batch（批处理）
@endmindmap
下面将简单介绍各场景的概念与其关联的项目。"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.luanrz.cn/posts/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/spring%E7%9A%847%E4%B8%AA%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-03-31T09:31:48+00:00"><meta property="article:modified_time" content="2022-03-31T09:31:48+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Spring的7个使用场景"><meta name=twitter:description content="Spring官网中描述了Spring能做的7件事，如下所示：
@startmindmap
* Spring
	* Microservices（微服务）
	* Reactive（响应式）
	* Cloud（云）
	* Web apps（网页应用）
	* Serverless（无服务器）
	* Event Driven（事件驱动）
	* Batch（批处理）
@endmindmap
下面将简单介绍各场景的概念与其关联的项目。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.luanrz.cn/posts/"},{"@type":"ListItem","position":2,"name":"Spring的7个使用场景","item":"https://blog.luanrz.cn/posts/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/spring%E7%9A%847%E4%B8%AA%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Spring的7个使用场景","name":"Spring的7个使用场景","description":"Spring官网中描述了Spring能做的7件事，如下所示：\n@startmindmap * Spring * Microservices（微服务） * Reactive（响应式） * Cloud（云） * Web apps（网页应用） * Serverless（无服务器） * Event Driven（事件驱动） * Batch（批处理） @endmindmap 下面将简单介绍各场景的概念与其关联的项目。\n","keywords":["Java","Spring"],"articleBody":"Spring官网中描述了Spring能做的7件事，如下所示：\n@startmindmap * Spring * Microservices（微服务） * Reactive（响应式） * Cloud（云） * Web apps（网页应用） * Serverless（无服务器） * Event Driven（事件驱动） * Batch（批处理） @endmindmap 下面将简单介绍各场景的概念与其关联的项目。\n一、Microservices 微服务（Microservice）是一个小型的、高度自含的、随时可运行的软件实体，多个相互独立的微服务协同工作构成的微服务架构，可以替代掉传统的大而全的单体服务架构，带来更高的灵活性。\n微服务在Spring中涉及到的项目如下：\n项目 功能 Spring Boot 快速搭建一个微服务（Java微服务的事实标准） Spring Cloud 使多个微服务更好地支持分布式特性（服务发现、负载均衡、熔断、分布式跟踪、监控等） Spring Cloud Stream 使微服务可以处理实时消息，以构建一个高度可伸缩的、事件驱动的系统 Micrometer 监控微服务的各项指标 二、Reactive 响应式（Reactive）系统可以实现低延迟与高吞吐，它有几个特性：快速响应（responsive）、可恢复（resilient）、有弹性（elastic）与消息驱动（ message-driven）。响应式处理是一种范式，它可以帮助开发者开发出非阻塞的、异步的应用，这种应用可以处理回压（back-pressure），其中，“回压”是指在应用处理能力达到阀值时的一种反馈现象。\n响应式在Spring中涉及到的项目如下：\n项目 功能 Reactor Spring响应式的基础，Spring WebFlux、Spring Data和Spring Cloud Gateway都用到了它 Spring WebFlux 非阻塞性Web框架，相对于Spring MVC而言，可以使用更少的资源处理更多的请求 Spring Data （原生）支持以响应式的方式访问数据库资源（如MongoDB、Redis 和 Cassandra） R2DBC （三方）支持以响应式的方式访问数据库资源（如Postgres、Microsoft SQL Server、 MySQL、H2和 Google Spanner)） Spring Cloud Stream 支持以响应式的方式访问消息资源（如RabbitMQ和Kafka） 三、Cloud 云（Cloud）原生应用要求微服务在分布式场景中满足12-Factor ，Spring Cloud套件包含了许多让应用程序在云中运行所需的服务（如服务发现、网关、配置、熔断、链路跟踪等）。\n云原生在Spring中涉及到的项目如下：\n项目 功能 Eureka 服务发现 Consul 服务发现 Zookeeper 服务发现 Spring Cloud Gateway 网关 Spring Cloud Config 配置 Spring Cloud Circuit Breaker 熔断 Resilience4J 熔断 Sentinel 熔断 Hystrix 熔断 Spring Cloud Sleuth 链路跟踪 Zipkin 链路跟踪 Spring Cloud Contract 测试 四、Web apps 使用Spring构建的网页应用（Web apps）去掉了大量样板代码和配置（得益于SpringBoot的支持），它简化了服务端HTML应用、REST接口等的开发。\n网页应用在Spring中涉及到的项目如下：\n项目 功能 Spring Boot 网页应用脚手架 Spring Security 网页应用安全支持 Spring Data 网页应用数据访问支持 五、Serverless 无服务器（Serverless）顾名思义，就是指无需关注服务器等基础设施而只需要关注业务逻辑的一种模型，它在一些情况下与FaaS（功能即服务）等价，国内的Serverless实现有腾讯云的“云函数 SCF”与阿里云的“函数计算 FC”。\n无服务器在Spring中涉及到的项目如下：\n项目 功能 Spring Cloud Function 提供无服务器（FaaS）支持 六、Event Driven 事件驱动（Event Driven）也可使称之为消息驱动，每一个事件驱动的系统都是基于消息处理来实现的。\n项目 功能 Spring Cloud Stream 提供“Binders”、“Bindings”和“Messages”三个核心概念来帮助更好地连接Kafka与RabbitMQ等消息组件 Spring Cloud Function 更好地处理多个消息的输入与输出，如合并、连接等操作 Spring Cloud Data Flow 提供跨多个云原生平台处理各种数据源的工具 Spring AMQP 支持AMQP（Advanced Message Queuing Protocol，高级消息队列协议） Spring Kafka 支持Apache Kafka 七、Batch 批处理（Batch）用于处理大量数据，处理过程中不需要外部交互且不会中断。\n","wordCount":"171","inLanguage":"en","datePublished":"2022-03-31T09:31:48Z","dateModified":"2022-03-31T09:31:48Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.luanrz.cn/posts/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/spring%E7%9A%847%E4%B8%AA%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/"},"publisher":{"@type":"Organization","name":"luanrz's blog","logo":{"@type":"ImageObject","url":"https://blog.luanrz.cn/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.luanrz.cn/ accesskey=h title="luanrz's blog (Alt + H)">luanrz's blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.luanrz.cn/ title=首页><span>首页</span></a></li><li><a href=https://blog.luanrz.cn/search/ title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li><li><a href=https://blog.luanrz.cn/archives/ title=归档><span>归档</span></a></li><li><a href=https://blog.luanrz.cn/categories/ title=分类><span>分类</span></a></li><li><a href=https://blog.luanrz.cn/tags/ title=标签><span>标签</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Spring的7个使用场景</h1></header><div class=post-content><p><a href=https://spring.io>Spring官网</a>中描述了Spring能做的7件事，如下所示：</p><pre tabindex=0><code class=language-plantuml data-lang=plantuml>@startmindmap
* Spring
	* Microservices（微服务）
	* Reactive（响应式）
	* Cloud（云）
	* Web apps（网页应用）
	* Serverless（无服务器）
	* Event Driven（事件驱动）
	* Batch（批处理）
@endmindmap
</code></pre><p>下面将简单介绍各场景的概念与其关联的项目。</p><h2 id=一microserviceshttpsspringiomicroservices>一、<a href=https://spring.io/microservices>Microservices</a><a hidden class=anchor aria-hidden=true href=#一microserviceshttpsspringiomicroservices>#</a></h2><p>微服务（Microservice）是一个小型的、高度自含的、随时可运行的软件实体，多个相互独立的微服务协同工作构成的微服务架构，可以替代掉传统的大而全的单体服务架构，带来更高的灵活性。</p><p>微服务在Spring中涉及到的项目如下：</p><table><thead><tr><th>项目</th><th>功能</th></tr></thead><tbody><tr><td><a href=https://spring.io/projects/spring-boot>Spring Boot</a></td><td>快速搭建一个微服务（Java微服务的事实标准）</td></tr><tr><td><a href=https://spring.io/projects/spring-cloud>Spring Cloud</a></td><td>使多个微服务更好地支持分布式特性（服务发现、负载均衡、熔断、分布式跟踪、监控等）</td></tr><tr><td><a href=https://spring.io/projects/spring-cloud-stream>Spring Cloud Stream</a></td><td>使微服务可以处理实时消息，以构建一个高度可伸缩的、事件驱动的系统</td></tr><tr><td><a href=https://micrometer.io>Micrometer</a></td><td>监控微服务的各项指标</td></tr></tbody></table><h2 id=二reactivehttpsspringioreactive>二、<a href=https://spring.io/reactive>Reactive</a><a hidden class=anchor aria-hidden=true href=#二reactivehttpsspringioreactive>#</a></h2><p>响应式（Reactive）系统可以实现低延迟与高吞吐，它有几个特性：快速响应（responsive）、可恢复（resilient）、有弹性（elastic）与消息驱动（ message-driven）。响应式处理是一种范式，它可以帮助开发者开发出非阻塞的、异步的应用，这种应用可以处理回压（back-pressure），其中，“回压”是指在应用处理能力达到阀值时的一种反馈现象。</p><p>响应式在Spring中涉及到的项目如下：</p><table><thead><tr><th>项目</th><th>功能</th></tr></thead><tbody><tr><td><a href=https://projectreactor.io>Reactor</a></td><td>Spring响应式的基础，Spring WebFlux、Spring Data和Spring Cloud Gateway都用到了它</td></tr><tr><td><a href=https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html>Spring WebFlux</a></td><td>非阻塞性Web框架，相对于Spring MVC而言，可以使用更少的资源处理更多的请求</td></tr><tr><td><a href=https://spring.io/projects/spring-data>Spring Data</a></td><td>（原生）支持以响应式的方式访问数据库资源（如MongoDB、Redis 和 Cassandra）</td></tr><tr><td><a href=https://github.com/r2dbc>R2DBC</a></td><td>（三方）支持以响应式的方式访问数据库资源（如Postgres、Microsoft SQL Server、 MySQL、H2和 Google Spanner)）</td></tr><tr><td><a href=https://spring.io/projects/spring-cloud-stream>Spring Cloud Stream</a></td><td>支持以响应式的方式访问消息资源（如RabbitMQ和Kafka）</td></tr></tbody></table><h2 id=三cloudhttpsspringiocloud>三、<a href=https://spring.io/cloud>Cloud</a><a hidden class=anchor aria-hidden=true href=#三cloudhttpsspringiocloud>#</a></h2><p>云（Cloud）原生应用要求微服务在分布式场景中满足<a href=https://12factor.net/zh_cn/>12-Factor </a>，Spring Cloud套件包含了许多让应用程序在云中运行所需的服务（如服务发现、网关、配置、熔断、链路跟踪等）。</p><p>云原生在Spring中涉及到的项目如下：</p><table><thead><tr><th>项目</th><th>功能</th></tr></thead><tbody><tr><td><a href=https://github.com/Netflix/eureka>Eureka</a></td><td>服务发现</td></tr><tr><td><a href=https://www.consul.io/>Consul</a></td><td>服务发现</td></tr><tr><td><a href=https://spring.io/projects/spring-cloud-zookeeper>Zookeeper</a></td><td>服务发现</td></tr><tr><td><a href=https://spring.io/projects/spring-cloud-gateway>Spring Cloud Gateway</a></td><td>网关</td></tr><tr><td><a href=https://spring.io/projects/spring-cloud-config>Spring Cloud Config</a></td><td>配置</td></tr><tr><td><a href=https://spring.io/projects/spring-cloud-circuitbreaker>Spring Cloud Circuit Breaker</a></td><td>熔断</td></tr><tr><td><a href=https://resilience4j.readme.io/docs/getting-started>Resilience4J</a></td><td>熔断</td></tr><tr><td><a href=https://github.com/alibaba/Sentinel/wiki/Circuit-Breaking>Sentinel</a></td><td>熔断</td></tr><tr><td><a href=https://github.com/Netflix/Hystrix/wiki>Hystrix</a></td><td>熔断</td></tr><tr><td><a href=https://spring.io/projects/spring-cloud-sleuth>Spring Cloud Sleuth</a></td><td>链路跟踪</td></tr><tr><td><a href=https://zipkin.io/>Zipkin</a></td><td>链路跟踪</td></tr><tr><td><a href=https://spring.io/projects/spring-cloud-contract>Spring Cloud Contract</a></td><td>测试</td></tr></tbody></table><h2 id=四web-appshttpsspringioweb-applications>四、<a href=https://spring.io/web-applications>Web apps</a><a hidden class=anchor aria-hidden=true href=#四web-appshttpsspringioweb-applications>#</a></h2><p>使用Spring构建的网页应用（Web apps）去掉了大量样板代码和配置（得益于SpringBoot的支持），它简化了服务端HTML应用、REST接口等的开发。</p><p>网页应用在Spring中涉及到的项目如下：</p><table><thead><tr><th>项目</th><th>功能</th></tr></thead><tbody><tr><td><a href=https://spring.io/projects/spring-boot>Spring Boot</a></td><td>网页应用脚手架</td></tr><tr><td><a href=https://spring.io/projects/spring-security>Spring Security</a></td><td>网页应用安全支持</td></tr><tr><td><a href=https://spring.io/projects/spring-data>Spring Data</a></td><td>网页应用数据访问支持</td></tr></tbody></table><h2 id=五serverlesshttpsspringiowhy-spring>五、<a href=https://spring.io/why-spring>Serverless</a><a hidden class=anchor aria-hidden=true href=#五serverlesshttpsspringiowhy-spring>#</a></h2><p>无服务器（Serverless）顾名思义，就是指无需关注服务器等基础设施而只需要关注业务逻辑的一种模型，它在一些情况下与FaaS（功能即服务）等价，国内的Serverless实现有腾讯云的“云函数 SCF”与阿里云的“函数计算 FC”。</p><p>无服务器在Spring中涉及到的项目如下：</p><table><thead><tr><th>项目</th><th>功能</th></tr></thead><tbody><tr><td><a href=https://spring.io/projects/spring-cloud-function>Spring Cloud Function</a></td><td>提供无服务器（FaaS）支持</td></tr></tbody></table><h2 id=六event-drivenhttpsspringioevent-driven>六、<a href=https://spring.io/event-driven>Event Driven</a><a hidden class=anchor aria-hidden=true href=#六event-drivenhttpsspringioevent-driven>#</a></h2><p>事件驱动（Event Driven）也可使称之为消息驱动，每一个事件驱动的系统都是基于消息处理来实现的。</p><table><thead><tr><th>项目</th><th>功能</th></tr></thead><tbody><tr><td><a href=https://spring.io/projects/spring-cloud-stream>Spring Cloud Stream</a></td><td>提供“Binders”、“Bindings”和“Messages”三个核心概念来帮助更好地连接Kafka与RabbitMQ等消息组件</td></tr><tr><td><a href=https://spring.io/projects/spring-cloud-function>Spring Cloud Function</a></td><td>更好地处理多个消息的输入与输出，如合并、连接等操作</td></tr><tr><td><a href=https://dataflow.spring.io>Spring Cloud Data Flow</a></td><td>提供跨多个云原生平台处理各种数据源的工具</td></tr><tr><td><a href=https://spring.io/projects/spring-amqp>Spring AMQP</a></td><td>支持AMQP（Advanced Message Queuing Protocol，高级消息队列协议）</td></tr><tr><td><a href=https://spring.io/projects/spring-kafka>Spring Kafka</a></td><td>支持Apache Kafka</td></tr></tbody></table><h2 id=七batchhttpsspringiobatch>七、<a href=https://spring.io/batch>Batch</a><a hidden class=anchor aria-hidden=true href=#七batchhttpsspringiobatch>#</a></h2><p>批处理（Batch）用于处理大量数据，处理过程中不需要外部交互且不会中断。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.luanrz.cn/tags/java/>Java</a></li><li><a href=https://blog.luanrz.cn/tags/spring/>Spring</a></li></ul><nav class=paginav><a class=prev href=https://blog.luanrz.cn/posts/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/java%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E4%B8%AD%E7%9A%84%E4%B8%80%E4%B8%AA%E5%A4%9A%E7%BA%BF%E7%A8%8B%E9%97%AE%E9%A2%98/><span class=title>« Prev</span><br><span>Java单例模式中的一个多线程问题</span></a>
<a class=next href=https://blog.luanrz.cn/posts/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/jvm%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98%E5%B7%A5%E5%85%B7%E6%B1%87%E6%80%BB/><span class=title>Next »</span><br><span>JVM性能调优工具汇总</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://blog.luanrz.cn/>luanrz's blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>